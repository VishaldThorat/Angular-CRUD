<nav class="navbar navbar-expand-sm fixed-top navbar-light bg-primary">
    <a class="navbar-brand text-white">CRUD Assignment</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <form class="form-inline my-2 my-lg-0 ml-auto">
            <button type="button" (click)="clickAddEmployee()" class="btn btn-success" data-toggle="modal"
                data-target="#exampleModal">
                + Add Employee
            </button>
        </form>
    </div>
</nav>


<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Employee Details</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <form [formGroup]="formValue">
                <div class="modal-body">
                    <div class="form-group">
                        <label for="exampleInputAvatar">Avatar</label>
                        <input type="text" formControlName="Avatar" class="form-control" id="exampleInputAvatar">
                        <span class="text-danger small" *ngIf="formValue.controls['Avatar'].touched && formValue.hasError('required','Avatar')">
                            Avatar is required field
                        </span>
                    </div>
                    <div class="form-group">
                        <label for="exampleInputName">Name</label>
                        <input type="text" formControlName="Name" class="form-control" id="exampleInputName">
                        <span class="text-danger small" *ngIf="formValue.controls['Name'].touched && formValue.hasError('required','Name')">
                            Name is required field
                        </span>
                    </div>
                    <div class="form-group">
                        <label for="exampleInputDOB">D.O.B.</label>
                        <input type="date" formControlName="DOB" class="form-control" id="exampleInputDOB">
                    </div>
                    <div class="form-group">
                        <label for="exampleInputEmail "  >Email address</label>
                        <input type="email"   formControlName="Email" class="form-control"  ngModel pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$" id="exampleInputEmail" >
                        <span class="text-danger small" *ngIf="formValue.controls['Email'].touched && formValue.hasError('required','Email')">
                            Email Id is required field
                        </span>
                    </div>
                    <div class="form-group">
                        <label for="exampleInputCountry">Country</label>
                        <input type="text" formControlName="Country" class="form-control" id="exampleInputCountry">
                        <span class="text-danger small" *ngIf="formValue.controls['Country'].touched && formValue.hasError('required','Country')">
                            Country is required field
                        </span>
                    </div>
                </div>
            </form>
            <div class="modal-footer">
                <button type="button" id="cancel" class="btn btn-danger" data-dismiss="modal">Close</button>
                <button type="button" [disabled]="!formValue.valid" *ngIf="showAdd" class="btn btn-primary" (click)="postEmployeeDetails()">Add
                    Employee</button>
                <button type="button" [disabled]="!formValue.valid" *ngIf="showUpdate" class="btn btn-primary"
                    (click)="updateEmployeeDetails()">Update Employee</button>
            </div>
        </div>
    </div>
</div>


<!-- Employee table -->
<!-- <table class="table mt-3">
    <thead>
        <tr>
            <th scope="col">Employee Id</th>
            <th scope="col">Avatar</th>
            <th scope="col">Name</th>
            <th scope="col">D.O.B.</th>
            <th scope="col">Email Id</th>
            <th scope="col">Country</th>
            <th scope="col">Action</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let row of employeeData">
            <td>{{row.id}}</td>
            <td>{{row.Avatar}}</td>
            <td>{{row.Name}}</td>
            <td>{{row.DOB}}</td>
            <td>{{row.Email}}</td>
            <td>{{row.Country}}</td>
            <td>
                <button type="button" (click)="onEdit(row)" class="btn btn-warning text-white" data-toggle="modal"
                    data-target="#exampleModal">Edit</button>
                <button type="button" (click)="deleteEmployee(row)" class="btn btn-danger ml-3">Delete</button>
            </td>
        </tr>
    </tbody>
</table> -->


<div class="container-fluid mt-5 pt-3">
    <div class="row justify-content-center">
        <div class="card m-4 w-25" *ngFor="let row of employeeData">
            <div class="card-body">
                <div>
                    <img src="{{row.Avatar}}" width="340px" alt="">
                </div>
                <div class="my-2">{{row.id}}</div>
                <div class="my-2">{{row.Name}}</div>
                <div class="my-2">{{row.DOB | age}}</div>
                <div class="my-2">{{row.Email}}</div>
                <div class="my-2">{{row.Country}}</div>
                <div>
                    <button type="button" (click)="onEdit(row)" class="btn btn-warning text-white" data-toggle="modal"
                        data-target="#exampleModal">
                        Edit
                    </button>
                    <button type="button" (click)="deleteEmployee(row)" class="btn btn-danger ml-3">
                        Delete
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
